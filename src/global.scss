// ==================== 全局样式 ====================

* {
  // box-sizing: border-box;
  scrollbar-width: thin;
  margin: 0;
  padding: 0;
}

// ==================== Material Design 3 主题变量 ====================

// Material Design 3 颜色系统
// 基于 Material Design 3 (Material You) 规范

// 浅色模式 - Light Color Scheme
:root,
html[data-mode='light'],
html:not([data-mode]) {
  // ========== Primary 主色系统 ==========
  --md-primary: #6750a4;
  --md-on-primary: #ffffff;

  // ========== Tertiary 第三色系统 ==========
  --md-tertiary: #e37e0f;
  --md-tertiary-container: rgba(227, 126, 15, 0.16);

  // ========== Surface 表面系统 ==========
  --md-surface-bright: #f9f8f3;
  --md-surface-variant: #e8def8;
  --md-on-surface: #1c1b1f;
  --md-on-surface-variant: #49454f;

  // ========== Background 背景系统 ==========
  --md-background: #f4f2ec;
  --md-on-background: #1c1b1f;

  // ========== State Layers 状态层级 ==========
  --md-state-hover: rgba(28, 27, 31, 0.08);
  --md-state-pressed: rgba(28, 27, 31, 0.16);

  // ========== Text Shadow 文字阴影 ==========
  --md-text-shadow-color: rgba(121, 116, 126, 0.4);
}

// 深色模式 - Dark Color Scheme
html[data-mode='dark'] {
  // ========== Primary 主色系统 ==========
  --md-primary: #d0bcff;
  --md-on-primary: #381e72;

  // ========== Tertiary 第三色系统 ==========
  --md-tertiary: #ff9d3a;
  --md-tertiary-container: rgba(255, 157, 58, 0.2);

  // ========== Surface 表面系统 ==========
  --md-surface-bright: #1a1f24;
  --md-surface-variant: #4a4458;
  --md-on-surface: #e6e8ea;
  --md-on-surface-variant: #c4c8cc;

  // ========== Background 背景系统 ==========
  --md-background: #11161a;
  --md-on-background: #e6e8ea;

  // ========== State Layers 状态层级 ==========
  --md-state-hover: rgba(230, 232, 234, 0.08);
  --md-state-pressed: rgba(230, 232, 234, 0.16);

  // ========== Text Shadow 文字阴影 ==========
  --md-text-shadow-color: rgba(142, 147, 152, 0.4);
}

// ========== 阴影系统 ==========
// 浅色主题使用深色阴影，暗色主题使用浅色阴影

:root,
html[data-mode='light'],
html:not([data-mode]) {
  // 卡片阴影 - 用于文章卡片、内容卡片（深色阴影）
  --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-card-hover:
    0 4px 16px rgba(0, 0, 0, 0.16), 0 2px 4px rgba(0, 0, 0, 0.08);

  // 按钮阴影 - 用于交互按钮（深色阴影）
  --shadow-button: 0 1px 3px rgba(0, 0, 0, 0.12);
  --shadow-button-hover: 0 2px 6px rgba(0, 0, 0, 0.18);
  --shadow-button-active: 0 1px 2px rgba(0, 0, 0, 0.12);

  // 悬浮阴影 - 用于悬浮元素（深色阴影）
  --shadow-float: 0 4px 12px rgba(0, 0, 0, 0.12);
  --shadow-float-hover: 0 8px 24px rgba(0, 0, 0, 0.18);

  // 模态框阴影 - 用于弹窗、对话框（深色阴影）
  --shadow-modal: 0 8px 32px rgba(0, 0, 0, 0.24), 0 2px 8px rgba(0, 0, 0, 0.12);

  // 内阴影 - 用于凹陷效果（深色阴影）
  --shadow-inset:
    inset 0 1px 3px rgba(0, 0, 0, 0.15), inset 0 -1px 1px rgba(0, 0, 0, 0.08);
}

html[data-mode='dark'] {
  // 卡片阴影（浅色阴影）
  --shadow-card:
    0 2px 8px rgba(255, 255, 255, 0.12), 0 1px 2px rgba(255, 255, 255, 0.06);
  --shadow-card-hover:
    0 4px 16px rgba(255, 255, 255, 0.16), 0 2px 4px rgba(255, 255, 255, 0.08);

  // 按钮阴影（浅色阴影）
  --shadow-button: 0 1px 3px rgba(255, 255, 255, 0.12);
  --shadow-button-hover: 0 2px 6px rgba(255, 255, 255, 0.18);
  --shadow-button-active: 0 1px 2px rgba(255, 255, 255, 0.12);

  // 悬浮阴影（浅色阴影）
  --shadow-float: 0 4px 12px rgba(255, 255, 255, 0.12);
  --shadow-float-hover: 0 8px 24px rgba(255, 255, 255, 0.18);

  // 模态框阴影（浅色阴影）
  --shadow-modal:
    0 8px 32px rgba(255, 255, 255, 0.24), 0 2px 8px rgba(255, 255, 255, 0.12);

  // 内阴影（浅色阴影）
  --shadow-inset:
    inset 0 1px 3px rgba(255, 255, 255, 0.15),
    inset 0 -1px 1px rgba(255, 255, 255, 0.08);
}

// ==================== 全局基础样式 ====================

// 滚动条样式
html[data-mode='dark'] {
  scrollbar-color: rgba(230, 232, 234, 0.35) transparent;
}

html[data-mode='light'],
html:not([data-mode]) {
  scrollbar-color: rgba(28, 27, 31, 0.35) transparent;
}

html {
  scrollbar-width: none;
}

html {
  font-family:
    'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto',
    'Helvetica Neue', 'Arial', 'sans-serif';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: var(--md-on-background);
  background-color: var(--md-background);
  transition:
    color 0.3s,
    background-color 0.3s;
}

// ==================== View Transition API 样式 ====================
// 用于主题切换时的圆形扩散动画效果

// 关闭默认动画，否则影响自定义动画的执行
::view-transition-new(root),
::view-transition-old(root) {
  animation: none;
}

// 切换到暗色模式时，确保旧视图（亮色）在上层，以便实现圆形扩散效果
html[data-mode='dark']::view-transition-old(root) {
  z-index: 100;
}

body {
  color: var(--md-on-background);
  background-color: var(--md-background);
  transition:
    color 0.3s,
    background-color 0.3s;
}
